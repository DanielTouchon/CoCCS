<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Additional Investigator Info</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>Additional Investigator Information</h1>
  </header>

  <main>
    <form id="additionalForm">
      <div class="grid-container">
        <div class="form-group">
          <label for="strength">Strength:</label>
          <input type="text" id="strength" name="strength" readonly>
          <button type="button" onclick="rollStat('strength')">Roll</button>
        </div>
        <div class="form-group">
          <label for="dexterity">Dexterity:</label>
          <input type="text" id="dexterity" name="dexterity" readonly>
          <button type="button" onclick="rollStat('dexterity')">Roll</button>
        </div>
        <div class="form-group">
          <label for="intelligence">Intelligence:</label>
          <input type="text" id="intelligence" name="intelligence" readonly>
          <button type="button" onclick="rollStat('intelligence')">Roll</button>
        </div>
        <div class="form-group">
          <label for="constitution">Constitution:</label>
          <input type="text" id="constitution" name="constitution" readonly>
          <button type="button" onclick="rollStat('constitution')">Roll</button>
        </div>
        <div class="form-group">
          <label for="charisma">Charisma:</label>
          <input type="text" id="charisma" name="charisma" readonly>
          <button type="button" onclick="rollStat('charisma')">Roll</button>
        </div>
        <div class="form-group">
          <label for="luck">Luck:</label>
          <input type="text" id="luck" name="luck" readonly>
          <button type="button" onclick="rollStat('luck')">Roll</button>
        </div>
      </div>
      <button type="submit">Save Additional Info</button>
    </form>

    <div id="investigatorSummary"></div>
  </main>

  <footer>
    <p>&copy; 2025 CoC Investigator Sheet Manager</p>
  </footer>

  <script>
    async function rollStat(statId) {
      const inputField = document.getElementById(statId);
      let sum = 0;
      let displayText = "";

      for (let i = 0; i < 3; i++) {
        const roll = Math.floor(Math.random() * 6) + 1; // Roll 1-6
        sum += roll;
        
        if (i > 0) {
          displayText += " "; // Ensure space before "+"
          inputField.value = displayText;
          await new Promise(resolve => setTimeout(resolve, 1400)); // Wait 2 seconds
          
          displayText += "+ ";
          inputField.value = displayText;
          await new Promise(resolve => setTimeout(resolve, 1400)); // Wait 2 seconds
        }

        displayText += roll;
        inputField.value = displayText;
        await new Promise(resolve => setTimeout(resolve, 1400)); // Wait 2 seconds
      }

      displayText += ` = ${sum}`;
      inputField.value = displayText;
      await new Promise(resolve => setTimeout(resolve, 1400)); // Wait 2 seconds

      let total = sum * 5;
      displayText += ` * 5`
      inputField.value = displayText
      await new Promise(resolve => setTimeout(resolve, 1400)); // Wait 2 seconds
      
      displayText += ` * 5 = ${total}`;
      inputField.value = displayText;
      
      await new Promise(resolve => setTimeout(resolve, 1400)); // Wait 2 seconds
      inputField.value = total
    }
  </script>
</body>
</html>
